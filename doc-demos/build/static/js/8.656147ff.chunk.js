(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{179:function(n,t,e){"use strict";e.r(t);var r=e(40),a=e(41),o=e(52),c=e(42),s=e(54),i=e(0),u=e.n(i),l=e(32),d=e(33),m=e(34);e.d(t,"ErrorBoundaries",function(){return E}),e.d(t,"default",function(){return E});var p=function(n){function t(n){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this,n))).state={showErrorUI:!1},e}return Object(s.a)(t,n),Object(a.a)(t,[{key:"componentDidCatch",value:function(n,t){}},{key:"render",value:function(){var n=this.state.showErrorUI,t=this.props.children;return n?u.a.createElement("h1",{style:{color:"red"}},"\u8ba9\u4e00\u5207\u770b\u4e0a\u53bb\u4e0d\u90a3\u4e48\u767d\u3002"):t}}],[{key:"getDerivedStateFromError",value:function(n){return{showErrorUI:!0}}}]),t}(i.PureComponent),h=function(n){function t(n){var e;return Object(r.a)(this,t),(e=Object(o.a)(this,Object(c.a)(t).call(this,n))).boom=function(){e.setState({dataList:null})},e.state={dataList:[{name:"1"}]},e}return Object(s.a)(t,n),Object(a.a)(t,[{key:"render",value:function(){var n=this.state.dataList;return u.a.createElement("div",{style:{border:"1px solid tomato"}},n.map(function(n){return u.a.createElement("span",{key:n.name},n.name)}),u.a.createElement("p",null,"\u6211\u662f\u4e00\u4e2a\u5373\u5c06\u53d1\u751f\u9519\u8bef\u7684\u7ec4\u4ef6"),u.a.createElement("button",{onClick:this.boom},"\u70b9\u51fb\u6211\u89e6\u53d1\u9519\u8bef"))}}]),t}(i.PureComponent),E=function(){return u.a.createElement("div",null,u.a.createElement(l.a,{text:"\n  \u53c2\u4e0e\u5de5\u4f5c\u4e2d\u7684\u9879\u76ee\u5f00\u53d1\u7684\u65f6\u5019\u5c31\u611f\u89c9\uff0c\u524d\u7aef\u5e76\u4e0d\u6d41\u884c\u9519\u8bef\u5904\u7406\uff0c\u6240\u4ee5\u5982\u679c\u540e\u7aef\u4f20\u8fc7\u6765\u7684\u503c\u6709\u4e00\u70b9\u95ee\u9898\uff0c\u6574\u4e2a\u7f51\u7ad9\u5c31\u767d\u4e86\u3002\n  \n  \u5982\u679c\u7528 TypeScript, \u5219\u53ef\u80fd\u4f1a\u51cf\u5c11\u8fd9\u79cd\u60c5\u51b5\u53d1\u751f\u7684\u51e0\u7387\uff1bReact \u4e5f\u63d0\u4f9b\u4e86 \u9519\u8bef\u8fb9\u754c \u8fd9\u4e2a\u7279\u6027\uff0c\u5728\u7ec4\u4ef6\u53d1\u751f\u9519\u8bef\u7684\u65f6\u5019\uff0c\n  \n  \u5b83\u53ef\u4ee5\u62ff\u51fa\u5907\u7528\u7684 UI \u9875\u9762\uff0c\u8ba9\u4e00\u5207\u770b\u4e0a\u53bb\u4e0d\u90a3\u4e48\u767d\uff0c\u4e0d\u8fc7\u6587\u6863\u4e5f\u63d0\u5230\u4e86\uff0c\u4e0b\u9762\u51e0\u79cd\u9519\u8bef\u5b83\u662f\u6355\u83b7\u4e0d\u5230\u7684\u3002\n  \n  * \u4e8b\u4ef6\u5904\u7406\n  * \u5f02\u6b65\u4ee3\u7801\n  * \u670d\u52a1\u7aef\u6e32\u67d3\n  * \u5b83\u81ea\u8eab\u629b\u51fa\u6765\u7684\u9519\u8bef\n  \n  **\u6ce8\u610f\uff1a\u5728\u5f00\u53d1\u73af\u5883\u4e0b create-react-app \u4ecd\u7136\u4f1a\u663e\u793a\u9519\u8bef\u5806\u6808\u7684\u5f39\u6846\uff0c\u4e0d\u8fc7\u6b63\u5f0f\u73af\u5883\u4e2d\u4e0d\u4f1a\u3002**\n"}),u.a.createElement(d.a,null,u.a.createElement(p,null,u.a.createElement(h,null)),u.a.createElement("p",null,"\u770b\u4e0a\u53bb\u6211\u4eec\u597d\u50cf\u662f\u6309\u4e86\u4e00\u4e0b\u6309\u94ae\uff0c\u53d1\u751f\u9519\u8bef\uff0c\u90a3\u4e0a\u6587\u4e2d\u63d0\u5230\u9519\u8bef\u8fb9\u754c\u662f\u65e0\u6cd5\u6355\u83b7\u4e8b\u4ef6\u5904\u7406\u4e2d\u7684\u9519\u8bef\u7684\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u8fd9\u91cc\u7684\u9519\u8bef\u5e76\u6ca1\u6709\u53d1\u751f\u5728\u4e8b\u4ef6\u5904\u7406\u51fd\u6570\u4e2d\uff0c\u6211\u4eec\u5728 onClick \u4e2d\u628a\u539f\u6765\u7684\u6570\u7ec4 \u8d4b\u503c\u4e3a null, \u5bfc\u81f4 render \u51fd\u6570\u4e2d\u7684 dataList.map \u65b9\u6cd5\u51fa\u9519\u3002"),u.a.createElement(m.a,{codeString:'\nclass NormalView extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataList: [{ name: "1" }]\n    };\n  }\n\n  boom = () => {\n    this.setState({\n      dataList: null\n    });\n  };\n\n  render() {\n    const { dataList } = this.state;\n    return (\n      <div>\n        {dataList.map(item => (\n          <span key={item.name}>{item.name}</span>\n        ))}\n        <button onClick={this.boom}>\u70b9\u51fb\u6211\u89e6\u53d1\u9519\u8bef</button>\n      </div>\n    );\n  }\n\n'}),u.a.createElement("p",null,"\u6587\u6863\u4e2d\u63d0\u5230\uff0c\u5982\u679c\u4e00\u4e2a\u7ec4\u4ef6\u4e2d\u5b9a\u4e49\u4e86 getDerivedStateFromError \u6216\u8005\u662f componentDidCatch \u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\uff0c\u5b83\u5c31\u662f\u4e00\u4e2a\u9519\u8bef\u8fb9\u754c\u7ec4\u4ef6\u3002"),u.a.createElement(m.a,{codeString:'\nclass ErrorCatcher extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showErrorUI: false\n    };\n  }\n\n  static getDerivedStateFromError(error) {\n    // \u8fd4\u56de\u4e00\u4e2a state \u503c\uff0c\u7528\u6765\u6e32\u67d3\u5907\u7528 UI\n    return {\n      showErrorUI: true\n    };\n  }\n\n  componentDidCatch(error, errorInfo) {\n    // \u8fd9\u4e2a\u751f\u547d\u5468\u671f\u51fd\u6570\u4e2d\u9002\u5408\u5c06\u9519\u8bef\u4e0a\u4f20\u81f3\u670d\u52a1\u7aef\n  }\n\n  render() {\n    const { showErrorUI } = this.state;\n    const { children } = this.props;\n    return showErrorUI ? (\n      <h1 style={{ color: "red" }}>\u8ba9\u4e00\u5207\u770b\u4e0a\u53bb\u4e0d\u90a3\u4e48\u767d\u3002</h1>\n    ) : (\n      children\n    );\n  }\n}\n\n'})))}},32:function(n,t,e){"use strict";e.d(t,"a",function(){return s});var r=e(0),a=e.n(r),o=e(43),c=e.n(o),s=function(n){var t=n.text;return a.a.createElement(c.a,{source:t})}},33:function(n,t,e){"use strict";e.d(t,"a",function(){return o});var r=e(0),a=e.n(r),o=function(n){var t=n.children;return a.a.createElement("div",{style:{border:"1px solid black",padding:"32px",marginBottom:"20px"}},t)}},34:function(n,t,e){"use strict";e.d(t,"a",function(){return i});var r=e(0),a=e.n(r),o=e(53),c=e(177),s=e(50);o.a.registerLanguage("jsx",s.a);var i=function(n){var t=n.codeString;return a.a.createElement(o.a,{language:"jsx",style:c.a},t)}}}]);
//# sourceMappingURL=8.656147ff.chunk.js.map