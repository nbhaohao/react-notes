{"version":3,"sources":["pages/Refs/index.js","pages/Refs/str.js","components/MarkdownViewer.js","components/Block.js","components/CodeViewer.js"],"names":["BaseInput","React","forwardRef","props","ref","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","BaseAlert","message","this","alert","concat","PureComponent","BaseAlertRefWrapper","Object","assign","BaseClassInput","innerRef","BaseClassInputRefWrapper","Parent","_this","_Users_zhangzihao_zzh_workspace_myGitProjects_react_notes_doc_demos_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_zhangzihao_zzh_workspace_myGitProjects_react_notes_doc_demos_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_zhangzihao_zzh_workspace_myGitProjects_react_notes_doc_demos_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleFocusInput","inputRef","current","focus","handleAlert","alertRef","showAlert","handleClassInnerInputFocus","innerInputRef","createRef","mode","style","display","onClick","Refs","_PureComponent4","apply","arguments","_Users_zhangzihao_zzh_workspace_myGitProjects_react_notes_doc_demos_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_zhangzihao_zzh_workspace_myGitProjects_react_notes_doc_demos_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","_components_MarkdownViewer__WEBPACK_IMPORTED_MODULE_6__","text","markdownText","_components_Block__WEBPACK_IMPORTED_MODULE_7__","_components_CodeViewer__WEBPACK_IMPORTED_MODULE_8__","codeString","code1","code2","code3","__webpack_require__","r","__webpack_exports__","d","MarkdownViewer","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","react_markdown__WEBPACK_IMPORTED_MODULE_1__","react_markdown__WEBPACK_IMPORTED_MODULE_1___default","_ref","source","Block","children","border","padding","marginBottom","CodeViewer","react_syntax_highlighter_dist_esm_prism_light__WEBPACK_IMPORTED_MODULE_1__","react_syntax_highlighter_dist_esm_styles_prism__WEBPACK_IMPORTED_MODULE_2__","react_syntax_highlighter_dist_esm_languages_prism_jsx__WEBPACK_IMPORTED_MODULE_3__","PrismLight","registerLanguage","jsx","language","darcula"],"mappings":"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","file":"static/js/5.fbd580ef.chunk.js","sourcesContent":["import React, { PureComponent } from \"react\";\nimport { MarkdownViewer } from \"../../components/MarkdownViewer\";\nimport { Block } from \"../../components/Block\";\nimport { CodeViewer } from \"../../components/CodeViewer\";\nimport { markdownText, code1, code2, code3 } from \"./str\";\n\nconst BaseInput = React.forwardRef((props, ref) => {\n  return (\n    <div>\n      <input ref={ref} />\n    </div>\n  );\n});\n\nclass BaseAlert extends PureComponent {\n  showAlert() {\n    const { message } = this.props;\n    alert(`base alert ${message}`);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst BaseAlertRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseAlert ref={ref} {...props} />;\n});\n\nclass BaseClassInput extends PureComponent {\n  render() {\n    const { innerRef } = this.props;\n    return (\n      <div>\n        <input ref={innerRef} />\n      </div>\n    );\n  }\n}\n\nconst BaseClassInputRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseClassInput {...props} innerRef={ref} />;\n});\n\nclass Parent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n    this.alertRef = React.createRef();\n    this.innerInputRef = React.createRef();\n  }\n\n  handleFocusInput = () => {\n    this.inputRef.current.focus();\n  };\n\n  handleAlert = () => {\n    this.alertRef.current.showAlert();\n  };\n\n  handleClassInnerInputFocus = () => {\n    this.innerInputRef.current.focus();\n  };\n\n  render() {\n    const { mode } = this.props;\n    return (\n      <div>\n        我是一个 Parent 组件，我希望拿到子组件中的 ref\n        {mode === \"functionalInput\" && (\n          <div style={{ display: \"flex\" }}>\n            <button onClick={this.handleFocusInput}>\n              调用子组件中的 input.focus\n            </button>\n            <BaseInput ref={this.inputRef} />\n          </div>\n        )}\n        {mode === \"classAlert\" && (\n          <div>\n            <button onClick={this.handleAlert}>调用BaseAlert 的 alert</button>\n            <BaseAlertRefWrapper ref={this.alertRef} message=\"hello everyone\" />\n          </div>\n        )}\n        {mode === \"classDom\" && (\n          <div>\n            <button onClick={this.handleClassInnerInputFocus}>\n              调用 Class 组件内部的 DOM 元素\n            </button>\n            <BaseClassInputRefWrapper ref={this.innerInputRef} />\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nexport class Refs extends PureComponent {\n  render() {\n    return (\n      <div>\n        <MarkdownViewer text={markdownText} />\n        <Block>\n          <p>这是一个父组件拿到子组件 ref 的示例</p>\n          <Parent mode=\"functionalInput\" />\n          <CodeViewer codeString={code1} />\n        </Block>\n        <Block>\n          <p>Ref 不仅可以指向 DOM 元素，还可以指向我们的 Class 组件</p>\n          <Parent mode=\"classAlert\" />\n          <CodeViewer codeString={code2} />\n        </Block>\n        <Block>\n          <p>\n            如果不想将 Ref 指向 Class 组件的实例上，我们可以给 ref\n            取一个别名，然后传递进组件中，然后挂载到任意的位置\n          </p>\n          <Parent mode=\"classDom\" />\n          <CodeViewer codeString={code3} />\n        </Block>\n      </div>\n    );\n  }\n}\n\nexport { Refs as default };\n","export const markdownText = `\nRefs 转发演示了父组件如何拿到子组件中的 DOM 节点实例，或者是组件实例，具体用到的 API 是 \\`React.forwardRef\\`.\n\n\\`React.createRef\\` 有点像一个高阶函数，它提供的 \\`ref\\` 参数允许被包裹的组件将 \\`ref\\` 指向任何想要指向的组件。 \n`\n\nexport const code1 = `\nconst BaseInput = React.forwardRef((props, ref) => {\n  return (\n    <div>\n      <input ref={ref} />\n    </div>\n  );\n});\n\nclass Parent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n  }\n\n  handleFocusInput = () => {\n    this.inputRef.current.focus();\n  };\n\n  render() {\n    return (\n      <div>\n        我是一个 Parent 组件，我希望拿到子组件中的 ref\n        <button onClick={this.handleFocusInput}>\n          调用子组件中的 input.focus\n        </button>\n        <BaseInput ref={this.inputRef} />\n      </div>\n    );\n  }\n}\n`\n\nexport const code2 = `\nclass BaseAlert extends PureComponent {\n  showAlert() {\n    const { message } = this.props;\n    alert(\\`base alert \\${message}\\`);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst BaseAlertRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseAlert ref={ref} {...props} />;\n});\n\nclass Parent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.alertRef = React.createRef();\n  }\n\n  handleAlert = () => {\n    this.alertRef.current.showAlert();\n  };\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleAlert}>调用BaseAlert 的 alert</button>\n        <BaseAlertRefWrapper ref={this.alertRef} message=\"hello everyone\" />\n      </div>\n    );\n  }\n}\n`\n\nexport const code3 = `\nclass BaseClassInput extends PureComponent {\n  render() {\n    const { innerRef } = this.props;\n    return (\n      <div>\n        <input ref={innerRef} />\n      </div>\n    );\n  }\n}\n\nconst BaseClassInputRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseClassInput {...props} innerRef={ref} />;\n});\n\n\n\nconstructor(props) {\n    super(props);\n    this.innerInputRef = React.createRef();\n  }\n\n  handleClassInnerInputFocus = () => {\n    this.innerInputRef.current.focus();\n  };\n\n\n<div>\n  <button onClick={this.handleClassInnerInputFocus}>\n    调用 Class 组件内部的 DOM 元素\n  </button>\n  <BaseClassInputRefWrapper ref={this.innerInputRef} />\n</div> \n`","import React from \"react\";\nimport ReactMarkdown from \"react-markdown\";\n\nexport const MarkdownViewer = ({ text }) => <ReactMarkdown source={text} />;\n","import React from \"react\";\n\nexport const Block = ({ children }) => {\n  return (\n    <div\n      style={{\n        border: \"1px solid black\",\n        padding: \"32px\",\n        marginBottom: \"20px\"\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n","import React from \"react\";\nimport PrismLight from \"react-syntax-highlighter/dist/esm/prism-light\";\nimport { darcula } from \"react-syntax-highlighter/dist/esm/styles/prism\";\nimport jsx from \"react-syntax-highlighter/dist/esm/languages/prism/jsx\";\nPrismLight.registerLanguage(\"jsx\", jsx);\n\nexport const CodeViewer = ({ codeString }) => {\n  return (\n    <PrismLight language=\"jsx\" style={darcula}>\n      {codeString}\n    </PrismLight>\n  );\n};\n"],"sourceRoot":""}