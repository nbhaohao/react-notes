(window.webpackJsonp=window.webpackJsonp||[]).push([[5,12],{11:function(e,n,t){"use strict";t.r(n),t.d(n,"Refs",function(){return I}),t.d(n,"default",function(){return I});var r=t(48),a=t(49),u=t(54),c=t(50),s=t(56),l=t(0),o=t.n(l),i=t(44),f=t(45),p=t(46),d=t(29),m=o.a.forwardRef(function(e,n){return o.a.createElement("div",null,o.a.createElement("input",{ref:n}))}),h=function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(a.a)(n,[{key:"showAlert",value:function(){var e=this.props.message;alert("base alert ".concat(e))}},{key:"render",value:function(){return null}}]),n}(l.PureComponent),R=o.a.forwardRef(function(e,n){return o.a.createElement(h,Object.assign({ref:n},e))}),v=function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){var e=this.props.innerRef;return o.a.createElement("div",null,o.a.createElement("input",{ref:e}))}}]),n}(l.PureComponent),b=o.a.forwardRef(function(e,n){return o.a.createElement(v,Object.assign({},e,{innerRef:n}))}),E=function(e){function n(e){var t;return Object(r.a)(this,n),(t=Object(u.a)(this,Object(c.a)(n).call(this,e))).handleFocusInput=function(){t.inputRef.current.focus()},t.handleAlert=function(){t.alertRef.current.showAlert()},t.handleClassInnerInputFocus=function(){t.innerInputRef.current.focus()},t.inputRef=o.a.createRef(),t.alertRef=o.a.createRef(),t.innerInputRef=o.a.createRef(),t}return Object(s.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){var e=this.props.mode;return o.a.createElement("div",null,"\u6211\u662f\u4e00\u4e2a Parent \u7ec4\u4ef6\uff0c\u6211\u5e0c\u671b\u62ff\u5230\u5b50\u7ec4\u4ef6\u4e2d\u7684 ref","functionalInput"===e&&o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("button",{onClick:this.handleFocusInput},"\u8c03\u7528\u5b50\u7ec4\u4ef6\u4e2d\u7684 input.focus"),o.a.createElement(m,{ref:this.inputRef})),"classAlert"===e&&o.a.createElement("div",null,o.a.createElement("button",{onClick:this.handleAlert},"\u8c03\u7528BaseAlert \u7684 alert"),o.a.createElement(R,{ref:this.alertRef,message:"hello everyone"})),"classDom"===e&&o.a.createElement("div",null,o.a.createElement("button",{onClick:this.handleClassInnerInputFocus},"\u8c03\u7528 Class \u7ec4\u4ef6\u5185\u90e8\u7684 DOM \u5143\u7d20"),o.a.createElement(b,{ref:this.innerInputRef})))}}]),n}(l.PureComponent),I=function(e){function n(){return Object(r.a)(this,n),Object(u.a)(this,Object(c.a)(n).apply(this,arguments))}return Object(s.a)(n,e),Object(a.a)(n,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(i.a,{text:d.markdownText}),o.a.createElement(f.a,null,o.a.createElement("p",null,"\u8fd9\u662f\u4e00\u4e2a\u7236\u7ec4\u4ef6\u62ff\u5230\u5b50\u7ec4\u4ef6 ref \u7684\u793a\u4f8b"),o.a.createElement(E,{mode:"functionalInput"}),o.a.createElement(p.a,{codeString:d.code1})),o.a.createElement(f.a,null,o.a.createElement("p",null,"Ref \u4e0d\u4ec5\u53ef\u4ee5\u6307\u5411 DOM \u5143\u7d20\uff0c\u8fd8\u53ef\u4ee5\u6307\u5411\u6211\u4eec\u7684 Class \u7ec4\u4ef6"),o.a.createElement(E,{mode:"classAlert"}),o.a.createElement(p.a,{codeString:d.code2})),o.a.createElement(f.a,null,o.a.createElement("p",null,"\u5982\u679c\u4e0d\u60f3\u5c06 Ref \u6307\u5411 Class \u7ec4\u4ef6\u7684\u5b9e\u4f8b\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u7ed9 ref \u53d6\u4e00\u4e2a\u522b\u540d\uff0c\u7136\u540e\u4f20\u9012\u8fdb\u7ec4\u4ef6\u4e2d\uff0c\u7136\u540e\u6302\u8f7d\u5230\u4efb\u610f\u7684\u4f4d\u7f6e"),o.a.createElement(E,{mode:"classDom"}),o.a.createElement(p.a,{codeString:d.code3})))}}]),n}(l.PureComponent)},29:function(e,n,t){"use strict";t.r(n),t.d(n,"markdownText",function(){return r}),t.d(n,"code1",function(){return a}),t.d(n,"code2",function(){return u}),t.d(n,"code3",function(){return c});var r="\nRefs \u8f6c\u53d1\u6f14\u793a\u4e86\u7236\u7ec4\u4ef6\u5982\u4f55\u62ff\u5230\u5b50\u7ec4\u4ef6\u4e2d\u7684 DOM \u8282\u70b9\u5b9e\u4f8b\uff0c\u6216\u8005\u662f\u7ec4\u4ef6\u5b9e\u4f8b\uff0c\u5177\u4f53\u7528\u5230\u7684 API \u662f `React.forwardRef`.\n\n`React.createRef` \u6709\u70b9\u50cf\u4e00\u4e2a\u9ad8\u9636\u51fd\u6570\uff0c\u5b83\u63d0\u4f9b\u7684 `ref` \u53c2\u6570\u5141\u8bb8\u88ab\u5305\u88f9\u7684\u7ec4\u4ef6\u5c06 `ref` \u6307\u5411\u4efb\u4f55\u60f3\u8981\u6307\u5411\u7684\u7ec4\u4ef6\u3002 \n",a="\nconst BaseInput = React.forwardRef((props, ref) => {\n  return (\n    <div>\n      <input ref={ref} />\n    </div>\n  );\n});\n\nclass Parent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.inputRef = React.createRef();\n  }\n\n  handleFocusInput = () => {\n    this.inputRef.current.focus();\n  };\n\n  render() {\n    return (\n      <div>\n        \u6211\u662f\u4e00\u4e2a Parent \u7ec4\u4ef6\uff0c\u6211\u5e0c\u671b\u62ff\u5230\u5b50\u7ec4\u4ef6\u4e2d\u7684 ref\n        <button onClick={this.handleFocusInput}>\n          \u8c03\u7528\u5b50\u7ec4\u4ef6\u4e2d\u7684 input.focus\n        </button>\n        <BaseInput ref={this.inputRef} />\n      </div>\n    );\n  }\n}\n",u='\nclass BaseAlert extends PureComponent {\n  showAlert() {\n    const { message } = this.props;\n    alert(`base alert ${message}`);\n  }\n\n  render() {\n    return null;\n  }\n}\n\nconst BaseAlertRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseAlert ref={ref} {...props} />;\n});\n\nclass Parent extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.alertRef = React.createRef();\n  }\n\n  handleAlert = () => {\n    this.alertRef.current.showAlert();\n  };\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleAlert}>\u8c03\u7528BaseAlert \u7684 alert</button>\n        <BaseAlertRefWrapper ref={this.alertRef} message="hello everyone" />\n      </div>\n    );\n  }\n}\n',c="\nclass BaseClassInput extends PureComponent {\n  render() {\n    const { innerRef } = this.props;\n    return (\n      <div>\n        <input ref={innerRef} />\n      </div>\n    );\n  }\n}\n\nconst BaseClassInputRefWrapper = React.forwardRef((props, ref) => {\n  return <BaseClassInput {...props} innerRef={ref} />;\n});\n\n\n\nconstructor(props) {\n    super(props);\n    this.innerInputRef = React.createRef();\n  }\n\n  handleClassInnerInputFocus = () => {\n    this.innerInputRef.current.focus();\n  };\n\n\n<div>\n  <button onClick={this.handleClassInnerInputFocus}>\n    \u8c03\u7528 Class \u7ec4\u4ef6\u5185\u90e8\u7684 DOM \u5143\u7d20\n  </button>\n  <BaseClassInputRefWrapper ref={this.innerInputRef} />\n</div> \n"},44:function(e,n,t){"use strict";t.d(n,"a",function(){return s});var r=t(0),a=t.n(r),u=t(51),c=t.n(u),s=function(e){var n=e.text;return a.a.createElement(c.a,{source:n})}},45:function(e,n,t){"use strict";t.d(n,"a",function(){return u});var r=t(0),a=t.n(r),u=function(e){var n=e.children;return a.a.createElement("div",{style:{border:"1px solid black",padding:"32px",marginBottom:"20px"}},n)}},46:function(e,n,t){"use strict";t.d(n,"a",function(){return l});var r=t(0),a=t.n(r),u=t(55),c=t(186),s=t(53);u.a.registerLanguage("jsx",s.a);var l=function(e){var n=e.codeString;return a.a.createElement(u.a,{language:"jsx",style:c.a},n)}}}]);
//# sourceMappingURL=5.fbd580ef.chunk.js.map